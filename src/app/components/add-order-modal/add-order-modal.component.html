<div *ngIf="isPopupOpen" class="fixed inset-0 z-50 flex items-center justify-center bg-gray-800 bg-opacity-50">
  <div class="bg-green-100 p-3 rounded-lg ">

    <div class="flex justify-end text-gray-600">
      <button (click)="closePopup()">
        <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor"
          class="w-6 h-6">
          <path stroke-linecap="round" stroke-linejoin="round" d="M6 18 18 6M6 6l12 12" />
        </svg>
      </button>
    </div>

    <div *ngIf="successMessage">
      {{ successMessage }}
    </div>

    <div class="flex justify-center">
      <div class="modal p-2 rounded">

        <div>
          <div class="flex">
            <div class="mr-2">
              <label for="">Item Title</label><br>
              <select [(ngModel)]="selectedTitle" (change)="updateAvailableOptions()" placeholder="Select Item">
                <option value="">Select Item</option>
                <option *ngFor="let item of itemObject" [value]="item.title">{{ item.title }}</option>
              </select>
            </div>

            <div class="mr-2">
            <label for="">Item Type</label><br>
            <select [(ngModel)]="selectedType" (change)="updateSelectedPrice()" placeholder="Select Type">
              <option value="">Select Type</option>
              <option *ngFor="let type of availableTypes" [value]="type">{{ type }}</option>
            </select>
            </div>

            <div class="mr-2">
              <label for="">Item Price</label><br>
              <input type="number" [(ngModel)]="selectedPrice" placeholder="Price" readonly>
            </div>

            <div class="flex items-end">
              <button class="" (click)="addItem()">Add Item</button>
            </div>
          </div>




        </div>

        <h2>Selected Items</h2>

        <ul>
          <li *ngFor="let item of selectedItems">
            {{ item.title }} - {{ item.type }} - {{ item.price }}
          </li>
        </ul>

        <p>Total Price: {{ getTotalPrice() }}</p>

        <button class="bg-gray-500 hover:bg-gray-700 text-white p-1 rounded mt-2" (click)="submit()">Add to Order</button>

      </div>
    </div>

  </div>
</div>
